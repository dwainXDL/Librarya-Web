<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">

  <title>Librarya • Register</title>
  <link rel="icon" href="https://i.imgur.com/d8X48fK.png" type="image/png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

  <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

  <link href="../register/style.css" rel="stylesheet">
</head>

<body class="animate__animated animate__fadeIn">
  <header class="page-header animate__animated animate__fadeInDown">
    <img src="https://i.imgur.com/d8X48fK.png" alt="Librarya Logo">
  </header>

  <nav class="page-nav"></nav>

  <div class="form-container animate__animated animate__fadeInUp">
    <h1 class="libraryaT">Librarya</h1>
    <h2 class="registerSub">Register</h2>

    <form action="register.php" method="post" novalidate>
      <div class="input-group">
        <span class="input-group-text"><i class="bi bi-person-fill"></i></span>
        <input name="name" type="text" class="form-control" placeholder="Name" required>
      </div>

      <div class="input-group">
        <span class="input-group-text"><i class="bi bi-credit-card"></i></span>
        <input name="nic" type="text" class="form-control" placeholder="NIC" required>
      </div>

      <div class="input-group">
        <span class="input-group-text"><i class="bi bi-envelope-fill"></i></span>
        <input name="email" type="email" class="form-control" placeholder="Email" required autocapitalize="none" autocorrect="off" spellcheck="false">
      </div>

      <div class="input-group">
        <span class="input-group-text prefix">+94</span>
        <input name="phoneNo" id="phoneNoInput" type="tel" class="form-control"
               placeholder="7xx-xxx-xxx" maxlength="9" required>
      </div>

      <div class="input-group">
        <span class="input-group-text"><i class="bi bi-lock-fill"></i></span>
        <input name="password" id="passwordInput" type="password" class="form-control"
               placeholder="Password" required>
        <button type="button" id="togglePwd"><i class="bi bi-eye-fill"></i></button>
      </div>

      <button type="submit" class="btn-submit" disabled>Register</button>
    </form>

    <p class="login-only">
      <a href="login.php">Login</a>
    </p>
    
  </div>

  <footer class="page-footer animate__animated animate__fadeInUp">
    © 2025 Librarya. All rights reserved.
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.4.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    
    document.getElementById('togglePwd').addEventListener('click', function(){
      const pwd = document.getElementById('passwordInput');
      const icon = this.querySelector('i');
      if (pwd.type === 'password') {
        pwd.type = 'text';
        icon.classList.replace('bi-eye-fill','bi-eye-slash-fill');
      } else {
        pwd.type = 'password';
        icon.classList.replace('bi-eye-slash-fill','bi-eye-fill');
      }
    });

    const inputs = document.querySelectorAll('input[required]');
    const btn = document.querySelector('.btn-submit');
    function checkInputs() {
      btn.disabled = ![...inputs].every(i => i.value.trim() !== '');
    }
    inputs.forEach(i => i.addEventListener('input', checkInputs));
    document.addEventListener('DOMContentLoaded', checkInputs);
  </script>
</body>
</html>
